# ESP32ä¼ æ„Ÿå™¨å®æ—¶ç›‘æ§å‰ç«¯

è¿™æ˜¯ä¸€ä¸ªReactå‰ç«¯åº”ç”¨ï¼Œç”¨äºå®æ—¶æ˜¾ç¤ºESP32-S3 TCRT5000ä¼ æ„Ÿå™¨çš„è®¡æ•°æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ å®æ—¶æ˜¾ç¤ºä¼ æ„Ÿå™¨è®¡æ•°æ•°æ®
- â° æ˜¾ç¤ºæœ€æ–°è®¡æ•°çš„æ—¶é—´æˆ³
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ¨ ç°ä»£åŒ–çš„UIç•Œé¢
- ğŸ”Œ åŸºäºSupabaseçš„å®æ—¶æ•°æ®è®¢é˜…

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
cd fronted
npm install
```

### 2. é…ç½®Supabase

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿æ–‡ä»¶ï¼š
```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„Supabaseé…ç½®ï¼š
```
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 è¿è¡Œ

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºæ–‡ä»¶å°†è¾“å‡ºåˆ° `dist` ç›®å½•

## é¡¹ç›®ç»“æ„

```
fronted/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx          # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css          # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ main.jsx         # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ supabase.js      # Supabaseå®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ index.html           # HTMLæ¨¡æ¿
â”œâ”€â”€ vite.config.js       # Viteé…ç½®
â””â”€â”€ package.json         # é¡¹ç›®ä¾èµ–
```

## æ•°æ®åº“è¡¨ç»“æ„

åº”ç”¨ä½¿ç”¨ `sensor_counts` è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- `id`: ä¸»é”®
- `count`: ä¼ æ„Ÿå™¨è®¡æ•°
- `timestamp`: è®¡æ•°æ—¶é—´æˆ³
- `created_at`: è®°å½•åˆ›å»ºæ—¶é—´

## å®æ—¶æ•°æ®è®¢é˜…

åº”ç”¨ä½¿ç”¨Supabaseçš„å®æ—¶è®¢é˜…åŠŸèƒ½ç›‘å¬ `sensor_counts` è¡¨çš„ `INSERT` äº‹ä»¶ï¼Œå½“æœ‰æ–°æ•°æ®æ’å…¥æ—¶è‡ªåŠ¨æ›´æ–°ç•Œé¢ã€‚

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿Supabaseé¡¹ç›®å·²æ­£ç¡®é…ç½®
2. ç¡®ä¿ `sensor_counts` è¡¨å·²åˆ›å»º
3. ç¡®ä¿Supabaseçš„å®æ—¶åŠŸèƒ½å·²å¯ç”¨
4. æ£€æŸ¥ç½‘ç»œè¿æ¥ä»¥ç¡®ä¿å®æ—¶è®¢é˜…æ­£å¸¸å·¥ä½œ

## æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°è¿æ¥é—®é¢˜ï¼š
1. æ£€æŸ¥Supabase URLå’ŒAPIå¯†é’¥æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. ç¡®è®¤Supabaseé¡¹ç›®çš„å®æ—¶åŠŸèƒ½æ˜¯å¦å·²å¯ç”¨
